import{_ as s,b as n,a,J as l}from"./chunks/framework.218694e7.js";const A=JSON.parse('{"title":"class member data pointer","description":"","frontmatter":{},"headers":[{"level":2,"title":"class member data pointer","slug":"class-member-data-pointer"},{"level":2,"title":"class member function pointer","slug":"class-member-function-pointer"}],"relativePath":"cppold/class_member_pointer.md"}'),p={name:"cppold/class_member_pointer.md"},e=l(`<h1 id="c-class-member-pointer" tabindex="-1">c++ class member pointer <a class="header-anchor" href="#c-class-member-pointer" aria-hidden="true">#</a></h1><ul><li>class member data pointer</li><li>class member function pointer</li></ul><h2 id="class-member-data-pointer" tabindex="-1">class member data pointer <a class="header-anchor" href="#class-member-data-pointer" aria-hidden="true">#</a></h2><p><code>int Car::*</code> \u8FD9\u662F\u4E00\u4E2A\u6574\u4F53,\u8868\u793A\u6307\u5411\u7C7B<code>Car</code>\u5185\u90E8\u7684\u4E00\u4E2A<code>int</code>\u6210\u5458\u6570\u636E\u7684\u6307\u9488</p><p><code>int Car::*pSpeed = &amp;Car::speed;</code> \u5728\u8FD9\u91CC<code>pSpeed</code>\u7684\u503C\u5E94\u8BE5\u662F<code>0</code>, \u8868\u793A\u5728\u7C7B\u5BF9\u8C61\u4E2D\u7684\u504F\u79FB\u91CF</p><p>\u90A3\u600E\u4E48\u4F7F\u7528\u8FD9\u4E2A\u6307\u9488\u5462?</p><div class="language-cpp line-numbers-mode"><button class="copy"></button><span class="lang">cpp</span><pre><code><span class="line"><span style="color:#89DDFF;font-style:italic;">#include</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#C3E88D;">iostream</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F78C6C;">using</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">namespace</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">class</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Car</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">public</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">int</span><span style="color:#F07178;"> speed</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Car</span><span style="color:#89DDFF;">::*</span><span style="color:#A6ACCD;">pSpeed </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#FFCB6B;">Car</span><span style="color:#89DDFF;">::</span><span style="color:#A6ACCD;">speed</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    Car c1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    c1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">speed </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">       // direct access</span></span>
<span class="line"><span style="color:#A6ACCD;">    cout </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">speed is </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#A6ACCD;"> c1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">speed </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#A6ACCD;"> endl</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    c1</span><span style="color:#89DDFF;">.*</span><span style="color:#A6ACCD;">pSpeed </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">     // access via pointer to member</span></span>
<span class="line"><span style="color:#A6ACCD;">    cout </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">speed is </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#A6ACCD;"> c1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">speed </span><span style="color:#89DDFF;">&lt;&lt;</span><span style="color:#A6ACCD;"> endl</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><code>c1.*pSpeed = 2;</code>\u8868\u793A\u8BBF\u95EE\u5BF9\u8C61<code>c1</code>\u7684\u504F\u79FB\u91CF\u4E3A<code>pSpeed</code>\u7684\u6210\u5458\u6570\u636E</p><h2 id="class-member-function-pointer" tabindex="-1">class member function pointer <a class="header-anchor" href="#class-member-function-pointer" aria-hidden="true">#</a></h2><p>\u8C03\u7528</p><div class="language-cpp line-numbers-mode"><button class="copy"></button><span class="lang">cpp</span><pre><code><span class="line"><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Apply</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">SomeClass</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">*</span><span style="color:#A6ACCD;"> c</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">SomeClass</span><span style="color:#89DDFF;">::*</span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">)()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // do hefty pre-call processing</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">c</span><span style="color:#89DDFF;">-&gt;*</span><span style="color:#A6ACCD;">func</span><span style="color:#89DDFF;">)();</span><span style="color:#676E95;font-style:italic;">  // call user specified function</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // do hefty post-call processing</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><a href="https://stackoverflow.com/questions/670734/pointer-to-class-data-member" target="_blank" rel="noreferrer">c++ - Pointer to class data member &quot;:\u{1F617}&quot; - Stack Overflow</a></li></ul>`,12),o=[e];function c(r,t,i,D,y,F){return a(),n("div",null,o)}var d=s(p,[["render",c]]);export{A as __pageData,d as default};
